{"ast":null,"code":"import React from'react';import TicketList from'./TicketList';import CreateTicket from'./CreateTicket';import TicketDetails from'./TicketDetails';import UserManagement from'./UserManagement';import CategoryManagement from'./CategoryManagement';import PriorityManagement from'./PriorityManagement';import KnowledgeBaseManagement from'./KnowledgeBaseManagement';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPortal=()=>{const[currentView,setCurrentView]=React.useState('dashboard');const[selectedTicketId,setSelectedTicketId]=React.useState(null);const[dashboardStats,setDashboardStats]=React.useState(null);const[statsLoading,setStatsLoading]=React.useState(false);const[statsError,setStatsError]=React.useState(null);const[systemHealth,setSystemHealth]=React.useState(null);const[healthLoading,setHealthLoading]=React.useState(false);React.useEffect(()=>{if(currentView==='dashboard'){fetchDashboardStats();fetchSystemHealth();}},[currentView]);const fetchDashboardStats=async()=>{setStatsLoading(true);setStatsError(null);try{const response=await fetch('/api/dashboard/stats');if(!response.ok){throw new Error('Failed to fetch dashboard statistics');}const data=await response.json();setDashboardStats(data);}catch(error){setStatsError(error.message);}finally{setStatsLoading(false);}};const fetchSystemHealth=async()=>{setHealthLoading(true);try{const response=await fetch('/api/dashboard/system-health');if(!response.ok){throw new Error('Failed to fetch system health');}const data=await response.json();setSystemHealth(data);}catch(error){console.warn('System health check failed:',error);setSystemHealth({status:'UNKNOWN',error:error.message});}finally{setHealthLoading(false);}};const handleLogout=()=>{localStorage.removeItem('user');window.location.href='/login';};const handleViewDetails=ticketId=>{setSelectedTicketId(ticketId);setCurrentView('ticket-details');};const handleBackToTickets=()=>{setSelectedTicketId(null);setCurrentView('tickets');};const renderContent=()=>{var _dashboardStats$prior,_dashboardStats$statu,_dashboardStats$statu2,_dashboardStats$recen,_dashboardStats$highP;switch(currentView){case'tickets':return/*#__PURE__*/_jsx(TicketList,{onViewDetails:handleViewDetails});case'ticket-details':return/*#__PURE__*/_jsx(TicketDetails,{ticketId:selectedTicketId,onStatusUpdate:()=>{},onBack:handleBackToTickets});case'create-ticket':return/*#__PURE__*/_jsx(CreateTicket,{});case'users':return/*#__PURE__*/_jsx(UserManagement,{});case'categories':return/*#__PURE__*/_jsx(CategoryManagement,{});case'priorities':return/*#__PURE__*/_jsx(PriorityManagement,{});case'knowledge-base':return/*#__PURE__*/_jsx(KnowledgeBaseManagement,{});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"}),statsLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading dashboard statistics...\"})}),statsError&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{border:'1px solid #dc3545',backgroundColor:'#f8d7da'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#721c24'},children:\"Error Loading Statistics\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#721c24'},children:statsError}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchDashboardStats,className:\"btn-primary\",children:\"Retry\"})]}),dashboardStats&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{backgroundColor:'#e3f2fd',border:'1px solid #2196f3'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#1565c0',margin:'0 0 0.5rem 0'},children:\"Total Tickets\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#1565c0'},children:dashboardStats.totalTickets})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{backgroundColor:'#e8f5e8',border:'1px solid #4caf50'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#2e7d32',margin:'0 0 0.5rem 0'},children:\"Total Users\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#2e7d32'},children:dashboardStats.totalUsers})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{backgroundColor:'#fff3e0',border:'1px solid #ff9800'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#f57c00',margin:'0 0 0.5rem 0'},children:\"High Priority\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#f57c00'},children:((_dashboardStats$prior=dashboardStats.priorityCounts)===null||_dashboardStats$prior===void 0?void 0:_dashboardStats$prior.HIGH)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{backgroundColor:'#ffebee',border:'1px solid #f44336'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#c62828',margin:'0 0 0.5rem 0'},children:\"Open Tickets\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#c62828'},children:(((_dashboardStats$statu=dashboardStats.statusCounts)===null||_dashboardStats$statu===void 0?void 0:_dashboardStats$statu.NEW)||0)+(((_dashboardStats$statu2=dashboardStats.statusCounts)===null||_dashboardStats$statu2===void 0?void 0:_dashboardStats$statu2.IN_PROGRESS)||0)})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'1rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ticket Status Distribution\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem'},children:dashboardStats.statusCounts&&Object.entries(dashboardStats.statusCounts).map(_ref=>{let[status,count]=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'500'},children:status.replace('_',' ')}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(Math.max(count/dashboardStats.totalTickets*100,5),\"%\"),height:'20px',backgroundColor:status==='NEW'?'#2196f3':status==='IN_PROGRESS'?'#ff9800':status==='RESOLVED'?'#4caf50':'#9e9e9e',borderRadius:'10px',minWidth:'20px'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',minWidth:'30px'},children:count})]})]},status);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Priority Distribution\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem'},children:dashboardStats.priorityCounts&&Object.entries(dashboardStats.priorityCounts).map(_ref2=>{let[priority,count]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'500'},children:priority}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(Math.max(count/dashboardStats.totalTickets*100,5),\"%\"),height:'20px',backgroundColor:priority==='HIGH'?'#f44336':priority==='MEDIUM'?'#ff9800':'#4caf50',borderRadius:'10px',minWidth:'20px'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',minWidth:'30px'},children:count})]})]},priority);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'1rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Tickets\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem'},children:((_dashboardStats$recen=dashboardStats.recentTickets)===null||_dashboardStats$recen===void 0?void 0:_dashboardStats$recen.length)>0?dashboardStats.recentTickets.map(ticket=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.75rem',border:'1px solid #e0e0e0',borderRadius:'4px',marginBottom:'0.5rem',cursor:'pointer',transition:'background-color 0.2s'},onClick:()=>handleViewDetails(ticket.id),onMouseEnter:e=>e.target.style.backgroundColor='#f5f5f5',onMouseLeave:e=>e.target.style.backgroundColor='transparent',children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'600',marginBottom:'0.25rem'},children:[\"#\",ticket.id,\" - \",ticket.title]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.85rem',color:'#666'},children:[\"Status: \",ticket.status,\" | Priority: \",ticket.priority]})]},ticket.id)):/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontStyle:'italic'},children:\"No recent tickets\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{border:'1px solid #ff9800'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#f57c00'},children:\"High Priority Alerts\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem'},children:((_dashboardStats$highP=dashboardStats.highPriorityTickets)===null||_dashboardStats$highP===void 0?void 0:_dashboardStats$highP.length)>0?dashboardStats.highPriorityTickets.map(ticket=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.75rem',border:'1px solid #ffcc02',borderRadius:'4px',marginBottom:'0.5rem',backgroundColor:'#fff8e1',cursor:'pointer'},onClick:()=>handleViewDetails(ticket.id),children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'600',marginBottom:'0.25rem',color:'#e65100'},children:[\"\\uD83D\\uDEA8 #\",ticket.id,\" - \",ticket.title]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.85rem',color:'#bf360c'},children:[\"Status: \",ticket.status,\" | Needs Attention\"]})]},ticket.id)):/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontStyle:'italic'},children:\"No high priority tickets\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Role Distribution\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'2rem',marginTop:'1rem',flexWrap:'wrap'},children:dashboardStats.roleCounts&&Object.entries(dashboardStats.roleCounts).map(_ref3=>{let[role,count]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:role==='ADMIN'?'#f44336':role==='AGENT'?'#2196f3':'#4caf50'},children:count}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:'#666'},children:[role,\"S\"]})]},role);})})]}),systemHealth&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:'2rem',border:\"1px solid \".concat(systemHealth.status==='UP'?'#4caf50':systemHealth.status==='DOWN'?'#f44336':'#ff9800'),backgroundColor:systemHealth.status==='UP'?'#e8f5e8':systemHealth.status==='DOWN'?'#ffebee':'#fff3e0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:systemHealth.status==='UP'?'#2e7d32':systemHealth.status==='DOWN'?'#c62828':'#f57c00'},children:[\"System Health: \",systemHealth.status]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchSystemHealth,className:\"btn-secondary\",disabled:healthLoading,style:{padding:'0.5rem 1rem'},children:healthLoading?'Checking...':'Refresh'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',marginTop:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Database\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:systemHealth.database==='CONNECTED'?'#2e7d32':'#c62828'},children:[\"Status: \",systemHealth.database]}),systemHealth.databaseRecords&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem',color:'#666'},children:[\"Records: \",systemHealth.databaseRecords,\" tickets\"]})]}),systemHealth.memory&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Memory Usage\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem'},children:[\"Used: \",systemHealth.memory.used,\" / \",systemHealth.memory.total]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem',color:'#666'},children:[\"Usage: \",systemHealth.memory.usagePercentage]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Last Check\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',color:'#666'},children:systemHealth.timestamp?new Date(systemHealth.timestamp).toLocaleString():'Unknown'})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Use the navigation menu to manage tickets, users, and system settings.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',marginTop:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{cursor:'pointer',border:'1px solid #2196f3'},onClick:()=>setCurrentView('tickets'),children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#1976d2'},children:\"\\uD83D\\uDCCB All Tickets\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View and manage all support tickets\"}),dashboardStats&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:'#666'},children:[dashboardStats.totalTickets,\" total tickets\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{cursor:'pointer',border:'1px solid #4caf50'},onClick:()=>setCurrentView('users'),children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#388e3c'},children:\"\\uD83D\\uDC65 User Management\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage user accounts and permissions\"}),dashboardStats&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:'#666'},children:[dashboardStats.totalUsers,\" total users\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{cursor:'pointer',border:'1px solid #ff9800'},onClick:()=>setCurrentView('categories'),children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#f57c00'},children:\"\\uD83C\\uDFF7\\uFE0F Categories\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage ticket categories\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{cursor:'pointer',border:'1px solid #9c27b0'},onClick:()=>setCurrentView('priorities'),children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#7b1fa2'},children:\"\\u26A1 Priorities\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage ticket priorities\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{cursor:'pointer',border:'1px solid #607d8b'},onClick:()=>setCurrentView('knowledge-base'),children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#455a64'},children:\"\\uD83D\\uDCDA Knowledge Base\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage help articles and FAQs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{cursor:'pointer',border:'1px solid #795548'},onClick:()=>setCurrentView('create-ticket'),children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#5d4037'},children:\"\\u2795 Create Ticket\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create a new support ticket\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem',padding:'1rem',backgroundColor:'#f5f5f5',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Administrative Tools\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',flexWrap:'wrap',marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:fetchDashboardStats,className:\"btn-primary\",disabled:statsLoading,style:{padding:'0.5rem 1rem'},children:statsLoading?'Refreshing...':'üîÑ Refresh Statistics'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"btn-secondary\",style:{padding:'0.5rem 1rem'},children:\"\\uD83D\\uDD04 Reload Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const data={exportDate:new Date().toISOString(),statistics:dashboardStats,systemHealth:systemHealth};const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"dashboard-export-\".concat(new Date().toISOString().split('T')[0],\".json\");a.click();URL.revokeObjectURL(url);},className:\"btn-secondary\",style:{padding:'0.5rem 1rem'},disabled:!dashboardStats,children:\"\\uD83D\\uDCCA Export Data\"})]})]})]})]});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{style:{backgroundColor:'#2c3e50',color:'white',padding:'1rem',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Portal\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('dashboard'),style:{background:'none',border:'1px solid white',color:'white',padding:'0.5rem 1rem',borderRadius:'4px'},children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('tickets'),style:{background:'none',border:'1px solid white',color:'white',padding:'0.5rem 1rem',borderRadius:'4px'},children:\"Tickets\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('users'),style:{background:'none',border:'1px solid white',color:'white',padding:'0.5rem 1rem',borderRadius:'4px'},children:\"Users\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('categories'),style:{background:'none',border:'1px solid white',color:'white',padding:'0.5rem 1rem',borderRadius:'4px'},children:\"Categories\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{background:'#e74c3c',border:'none',color:'white',padding:'0.5rem 1rem',borderRadius:'4px'},children:\"Logout\"})]})]}),renderContent()]});};export default AdminPortal;","map":{"version":3,"names":["React","TicketList","CreateTicket","TicketDetails","UserManagement","CategoryManagement","PriorityManagement","KnowledgeBaseManagement","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPortal","currentView","setCurrentView","useState","selectedTicketId","setSelectedTicketId","dashboardStats","setDashboardStats","statsLoading","setStatsLoading","statsError","setStatsError","systemHealth","setSystemHealth","healthLoading","setHealthLoading","useEffect","fetchDashboardStats","fetchSystemHealth","response","fetch","ok","Error","data","json","error","message","console","warn","status","handleLogout","localStorage","removeItem","window","location","href","handleViewDetails","ticketId","handleBackToTickets","renderContent","_dashboardStats$prior","_dashboardStats$statu","_dashboardStats$statu2","_dashboardStats$recen","_dashboardStats$highP","onViewDetails","onStatusUpdate","onBack","className","children","style","border","backgroundColor","color","onClick","display","gridTemplateColumns","gap","marginBottom","margin","fontSize","fontWeight","totalTickets","totalUsers","priorityCounts","HIGH","statusCounts","NEW","IN_PROGRESS","marginTop","Object","entries","map","_ref","count","justifyContent","alignItems","replace","width","concat","Math","max","height","borderRadius","minWidth","_ref2","priority","recentTickets","length","ticket","padding","cursor","transition","id","onMouseEnter","e","target","onMouseLeave","title","fontStyle","highPriorityTickets","flexWrap","roleCounts","_ref3","role","textAlign","disabled","database","databaseRecords","memory","used","total","usagePercentage","timestamp","Date","toLocaleString","reload","exportDate","toISOString","statistics","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","download","split","click","revokeObjectURL","background"],"sources":["D:/Helpdesk_Ticketing/98698b33-5bdf-4501-9f43-41e3e1cbf16a-628b1e05-cb12-43d5-95c0-c4c48d574d3a/reactapp/src/components/AdminPortal.js"],"sourcesContent":["import React from 'react';\r\nimport TicketList from './TicketList';\r\nimport CreateTicket from './CreateTicket';\r\nimport TicketDetails from './TicketDetails';\r\nimport UserManagement from './UserManagement';\r\nimport CategoryManagement from './CategoryManagement';\r\nimport PriorityManagement from './PriorityManagement';\r\nimport KnowledgeBaseManagement from './KnowledgeBaseManagement';\r\n\r\nconst AdminPortal = () => {\r\n  const [currentView, setCurrentView] = React.useState('dashboard');\r\n  const [selectedTicketId, setSelectedTicketId] = React.useState(null);\r\n  const [dashboardStats, setDashboardStats] = React.useState(null);\r\n  const [statsLoading, setStatsLoading] = React.useState(false);\r\n  const [statsError, setStatsError] = React.useState(null);\r\n  const [systemHealth, setSystemHealth] = React.useState(null);\r\n  const [healthLoading, setHealthLoading] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (currentView === 'dashboard') {\r\n      fetchDashboardStats();\r\n      fetchSystemHealth();\r\n    }\r\n  }, [currentView]);\r\n\r\n  const fetchDashboardStats = async () => {\r\n    setStatsLoading(true);\r\n    setStatsError(null);\r\n    try {\r\n      const response = await fetch('/api/dashboard/stats');\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch dashboard statistics');\r\n      }\r\n      const data = await response.json();\r\n      setDashboardStats(data);\r\n    } catch (error) {\r\n      setStatsError(error.message);\r\n    } finally {\r\n      setStatsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchSystemHealth = async () => {\r\n    setHealthLoading(true);\r\n    try {\r\n      const response = await fetch('/api/dashboard/system-health');\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch system health');\r\n      }\r\n      const data = await response.json();\r\n      setSystemHealth(data);\r\n    } catch (error) {\r\n      console.warn('System health check failed:', error);\r\n      setSystemHealth({ status: 'UNKNOWN', error: error.message });\r\n    } finally {\r\n      setHealthLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  const handleViewDetails = (ticketId) => {\r\n    setSelectedTicketId(ticketId);\r\n    setCurrentView('ticket-details');\r\n  };\r\n\r\n  const handleBackToTickets = () => {\r\n    setSelectedTicketId(null);\r\n    setCurrentView('tickets');\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (currentView) {\r\n      case 'tickets':\r\n        return <TicketList onViewDetails={handleViewDetails} />;\r\n      case 'ticket-details':\r\n        return <TicketDetails \r\n          ticketId={selectedTicketId} \r\n          onStatusUpdate={() => {}} \r\n          onBack={handleBackToTickets} \r\n        />;\r\n      case 'create-ticket':\r\n        return <CreateTicket />;\r\n      case 'users':\r\n        return <UserManagement />;\r\n      case 'categories':\r\n        return <CategoryManagement />;\r\n      case 'priorities':\r\n        return <PriorityManagement />;\r\n      case 'knowledge-base':\r\n        return <KnowledgeBaseManagement />;\r\n      default:\r\n        return (\r\n          <div className=\"container\">\r\n            <h1>Admin Dashboard</h1>\r\n            \r\n            {statsLoading && (\r\n              <div className=\"card\">\r\n                <p>Loading dashboard statistics...</p>\r\n              </div>\r\n            )}\r\n            \r\n            {statsError && (\r\n              <div className=\"card\" style={{ border: '1px solid #dc3545', backgroundColor: '#f8d7da' }}>\r\n                <h3 style={{ color: '#721c24' }}>Error Loading Statistics</h3>\r\n                <p style={{ color: '#721c24' }}>{statsError}</p>\r\n                <button onClick={fetchDashboardStats} className=\"btn-primary\">Retry</button>\r\n              </div>\r\n            )}\r\n            \r\n            {dashboardStats && (\r\n              <>\r\n                {/* Key Metrics Cards */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '2rem' }}>\r\n                  <div className=\"card\" style={{ backgroundColor: '#e3f2fd', border: '1px solid #2196f3' }}>\r\n                    <h3 style={{ color: '#1565c0', margin: '0 0 0.5rem 0' }}>Total Tickets</h3>\r\n                    <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#1565c0' }}>{dashboardStats.totalTickets}</div>\r\n                  </div>\r\n                  <div className=\"card\" style={{ backgroundColor: '#e8f5e8', border: '1px solid #4caf50' }}>\r\n                    <h3 style={{ color: '#2e7d32', margin: '0 0 0.5rem 0' }}>Total Users</h3>\r\n                    <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#2e7d32' }}>{dashboardStats.totalUsers}</div>\r\n                  </div>\r\n                  <div className=\"card\" style={{ backgroundColor: '#fff3e0', border: '1px solid #ff9800' }}>\r\n                    <h3 style={{ color: '#f57c00', margin: '0 0 0.5rem 0' }}>High Priority</h3>\r\n                    <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#f57c00' }}>{dashboardStats.priorityCounts?.HIGH || 0}</div>\r\n                  </div>\r\n                  <div className=\"card\" style={{ backgroundColor: '#ffebee', border: '1px solid #f44336' }}>\r\n                    <h3 style={{ color: '#c62828', margin: '0 0 0.5rem 0' }}>Open Tickets</h3>\r\n                    <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#c62828' }}>\r\n                      {(dashboardStats.statusCounts?.NEW || 0) + (dashboardStats.statusCounts?.IN_PROGRESS || 0)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Charts Section */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1rem', marginBottom: '2rem' }}>\r\n                  {/* Ticket Status Breakdown */}\r\n                  <div className=\"card\">\r\n                    <h3>Ticket Status Distribution</h3>\r\n                    <div style={{ marginTop: '1rem' }}>\r\n                      {dashboardStats.statusCounts && Object.entries(dashboardStats.statusCounts).map(([status, count]) => (\r\n                        <div key={status} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\r\n                          <span style={{ fontWeight: '500' }}>{status.replace('_', ' ')}</span>\r\n                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                            <div style={{\r\n                              width: `${Math.max((count / dashboardStats.totalTickets) * 100, 5)}%`,\r\n                              height: '20px',\r\n                              backgroundColor: status === 'NEW' ? '#2196f3' : \r\n                                             status === 'IN_PROGRESS' ? '#ff9800' : \r\n                                             status === 'RESOLVED' ? '#4caf50' : '#9e9e9e',\r\n                              borderRadius: '10px',\r\n                              minWidth: '20px'\r\n                            }}></div>\r\n                            <span style={{ fontWeight: 'bold', minWidth: '30px' }}>{count}</span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Priority Breakdown */}\r\n                  <div className=\"card\">\r\n                    <h3>Priority Distribution</h3>\r\n                    <div style={{ marginTop: '1rem' }}>\r\n                      {dashboardStats.priorityCounts && Object.entries(dashboardStats.priorityCounts).map(([priority, count]) => (\r\n                        <div key={priority} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\r\n                          <span style={{ fontWeight: '500' }}>{priority}</span>\r\n                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                            <div style={{\r\n                              width: `${Math.max((count / dashboardStats.totalTickets) * 100, 5)}%`,\r\n                              height: '20px',\r\n                              backgroundColor: priority === 'HIGH' ? '#f44336' : \r\n                                             priority === 'MEDIUM' ? '#ff9800' : '#4caf50',\r\n                              borderRadius: '10px',\r\n                              minWidth: '20px'\r\n                            }}></div>\r\n                            <span style={{ fontWeight: 'bold', minWidth: '30px' }}>{count}</span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Recent Activity and Alerts */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '1rem', marginBottom: '2rem' }}>\r\n                  {/* Recent Tickets */}\r\n                  <div className=\"card\">\r\n                    <h3>Recent Tickets</h3>\r\n                    <div style={{ marginTop: '1rem' }}>\r\n                      {dashboardStats.recentTickets?.length > 0 ? (\r\n                        dashboardStats.recentTickets.map(ticket => (\r\n                          <div key={ticket.id} style={{ \r\n                            padding: '0.75rem', \r\n                            border: '1px solid #e0e0e0', \r\n                            borderRadius: '4px', \r\n                            marginBottom: '0.5rem',\r\n                            cursor: 'pointer',\r\n                            transition: 'background-color 0.2s'\r\n                          }}\r\n                          onClick={() => handleViewDetails(ticket.id)}\r\n                          onMouseEnter={(e) => e.target.style.backgroundColor = '#f5f5f5'}\r\n                          onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\r\n                          >\r\n                            <div style={{ fontWeight: '600', marginBottom: '0.25rem' }}>#{ticket.id} - {ticket.title}</div>\r\n                            <div style={{ fontSize: '0.85rem', color: '#666' }}>\r\n                              Status: {ticket.status} | Priority: {ticket.priority}\r\n                            </div>\r\n                          </div>\r\n                        ))\r\n                      ) : (\r\n                        <p style={{ color: '#666', fontStyle: 'italic' }}>No recent tickets</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* High Priority Alerts */}\r\n                  <div className=\"card\" style={{ border: '1px solid #ff9800' }}>\r\n                    <h3 style={{ color: '#f57c00' }}>High Priority Alerts</h3>\r\n                    <div style={{ marginTop: '1rem' }}>\r\n                      {dashboardStats.highPriorityTickets?.length > 0 ? (\r\n                        dashboardStats.highPriorityTickets.map(ticket => (\r\n                          <div key={ticket.id} style={{ \r\n                            padding: '0.75rem', \r\n                            border: '1px solid #ffcc02', \r\n                            borderRadius: '4px', \r\n                            marginBottom: '0.5rem',\r\n                            backgroundColor: '#fff8e1',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          onClick={() => handleViewDetails(ticket.id)}\r\n                          >\r\n                            <div style={{ fontWeight: '600', marginBottom: '0.25rem', color: '#e65100' }}>\r\n                              üö® #{ticket.id} - {ticket.title}\r\n                            </div>\r\n                            <div style={{ fontSize: '0.85rem', color: '#bf360c' }}>\r\n                              Status: {ticket.status} | Needs Attention\r\n                            </div>\r\n                          </div>\r\n                        ))\r\n                      ) : (\r\n                        <p style={{ color: '#666', fontStyle: 'italic' }}>No high priority tickets</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* User Statistics */}\r\n                <div className=\"card\" style={{ marginBottom: '2rem' }}>\r\n                  <h3>User Role Distribution</h3>\r\n                  <div style={{ display: 'flex', gap: '2rem', marginTop: '1rem', flexWrap: 'wrap' }}>\r\n                    {dashboardStats.roleCounts && Object.entries(dashboardStats.roleCounts).map(([role, count]) => (\r\n                      <div key={role} style={{ textAlign: 'center' }}>\r\n                        <div style={{ \r\n                          fontSize: '1.5rem', \r\n                          fontWeight: 'bold', \r\n                          color: role === 'ADMIN' ? '#f44336' : role === 'AGENT' ? '#2196f3' : '#4caf50' \r\n                        }}>\r\n                          {count}\r\n                        </div>\r\n                        <div style={{ fontSize: '0.9rem', color: '#666' }}>{role}S</div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* System Health */}\r\n                {systemHealth && (\r\n                  <div className=\"card\" style={{ \r\n                    marginBottom: '2rem',\r\n                    border: `1px solid ${systemHealth.status === 'UP' ? '#4caf50' : systemHealth.status === 'DOWN' ? '#f44336' : '#ff9800'}`,\r\n                    backgroundColor: systemHealth.status === 'UP' ? '#e8f5e8' : systemHealth.status === 'DOWN' ? '#ffebee' : '#fff3e0'\r\n                  }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                      <h3 style={{ \r\n                        color: systemHealth.status === 'UP' ? '#2e7d32' : systemHealth.status === 'DOWN' ? '#c62828' : '#f57c00' \r\n                      }}>\r\n                        System Health: {systemHealth.status}\r\n                      </h3>\r\n                      <button \r\n                        onClick={fetchSystemHealth} \r\n                        className=\"btn-secondary\"\r\n                        disabled={healthLoading}\r\n                        style={{ padding: '0.5rem 1rem' }}\r\n                      >\r\n                        {healthLoading ? 'Checking...' : 'Refresh'}\r\n                      </button>\r\n                    </div>\r\n                    \r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginTop: '1rem' }}>\r\n                      <div>\r\n                        <h4>Database</h4>\r\n                        <p style={{ color: systemHealth.database === 'CONNECTED' ? '#2e7d32' : '#c62828' }}>\r\n                          Status: {systemHealth.database}\r\n                        </p>\r\n                        {systemHealth.databaseRecords && (\r\n                          <p style={{ fontSize: '0.9rem', color: '#666' }}>\r\n                            Records: {systemHealth.databaseRecords} tickets\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {systemHealth.memory && (\r\n                        <div>\r\n                          <h4>Memory Usage</h4>\r\n                          <p style={{ fontSize: '0.9rem' }}>\r\n                            Used: {systemHealth.memory.used} / {systemHealth.memory.total}\r\n                          </p>\r\n                          <p style={{ fontSize: '0.9rem', color: '#666' }}>\r\n                            Usage: {systemHealth.memory.usagePercentage}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      <div>\r\n                        <h4>Last Check</h4>\r\n                        <p style={{ fontSize: '0.9rem', color: '#666' }}>\r\n                          {systemHealth.timestamp ? new Date(systemHealth.timestamp).toLocaleString() : 'Unknown'}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n            \r\n            {/* Quick Actions */}\r\n            <div className=\"card\">\r\n              <h2>Quick Actions</h2>\r\n              <p>Use the navigation menu to manage tickets, users, and system settings.</p>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginTop: '2rem' }}>\r\n                <div className=\"card\" style={{ cursor: 'pointer', border: '1px solid #2196f3' }} onClick={() => setCurrentView('tickets')}>\r\n                  <h3 style={{ color: '#1976d2' }}>üìã All Tickets</h3>\r\n                  <p>View and manage all support tickets</p>\r\n                  {dashboardStats && (\r\n                    <div style={{ fontSize: '0.9rem', color: '#666' }}>\r\n                      {dashboardStats.totalTickets} total tickets\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"card\" style={{ cursor: 'pointer', border: '1px solid #4caf50' }} onClick={() => setCurrentView('users')}>\r\n                  <h3 style={{ color: '#388e3c' }}>üë• User Management</h3>\r\n                  <p>Manage user accounts and permissions</p>\r\n                  {dashboardStats && (\r\n                    <div style={{ fontSize: '0.9rem', color: '#666' }}>\r\n                      {dashboardStats.totalUsers} total users\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"card\" style={{ cursor: 'pointer', border: '1px solid #ff9800' }} onClick={() => setCurrentView('categories')}>\r\n                  <h3 style={{ color: '#f57c00' }}>üè∑Ô∏è Categories</h3>\r\n                  <p>Manage ticket categories</p>\r\n                </div>\r\n                <div className=\"card\" style={{ cursor: 'pointer', border: '1px solid #9c27b0' }} onClick={() => setCurrentView('priorities')}>\r\n                  <h3 style={{ color: '#7b1fa2' }}>‚ö° Priorities</h3>\r\n                  <p>Manage ticket priorities</p>\r\n                </div>\r\n                <div className=\"card\" style={{ cursor: 'pointer', border: '1px solid #607d8b' }} onClick={() => setCurrentView('knowledge-base')}>\r\n                  <h3 style={{ color: '#455a64' }}>üìö Knowledge Base</h3>\r\n                  <p>Manage help articles and FAQs</p>\r\n                </div>\r\n                <div className=\"card\" style={{ cursor: 'pointer', border: '1px solid #795548' }} onClick={() => setCurrentView('create-ticket')}>\r\n                  <h3 style={{ color: '#5d4037' }}>‚ûï Create Ticket</h3>\r\n                  <p>Create a new support ticket</p>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Additional Admin Tools */}\r\n              <div style={{ marginTop: '2rem', padding: '1rem', backgroundColor: '#f5f5f5', borderRadius: '4px' }}>\r\n                <h3>Administrative Tools</h3>\r\n                <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap', marginTop: '1rem' }}>\r\n                  <button \r\n                    onClick={fetchDashboardStats} \r\n                    className=\"btn-primary\"\r\n                    disabled={statsLoading}\r\n                    style={{ padding: '0.5rem 1rem' }}\r\n                  >\r\n                    {statsLoading ? 'Refreshing...' : 'üîÑ Refresh Statistics'}\r\n                  </button>\r\n                  <button \r\n                    onClick={() => window.location.reload()} \r\n                    className=\"btn-secondary\"\r\n                    style={{ padding: '0.5rem 1rem' }}\r\n                  >\r\n                    üîÑ Reload Dashboard\r\n                  </button>\r\n                  <button \r\n                    onClick={() => {\r\n                      const data = {\r\n                        exportDate: new Date().toISOString(),\r\n                        statistics: dashboardStats,\r\n                        systemHealth: systemHealth\r\n                      };\r\n                      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n                      const url = URL.createObjectURL(blob);\r\n                      const a = document.createElement('a');\r\n                      a.href = url;\r\n                      a.download = `dashboard-export-${new Date().toISOString().split('T')[0]}.json`;\r\n                      a.click();\r\n                      URL.revokeObjectURL(url);\r\n                    }} \r\n                    className=\"btn-secondary\"\r\n                    style={{ padding: '0.5rem 1rem' }}\r\n                    disabled={!dashboardStats}\r\n                  >\r\n                    üìä Export Data\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <nav style={{ \r\n        backgroundColor: '#2c3e50', \r\n        color: 'white', \r\n        padding: '1rem',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <h2>Admin Portal</h2>\r\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\r\n          <button \r\n            onClick={() => setCurrentView('dashboard')}\r\n            style={{ background: 'none', border: '1px solid white', color: 'white', padding: '0.5rem 1rem', borderRadius: '4px' }}\r\n          >\r\n            Dashboard\r\n          </button>\r\n          <button \r\n            onClick={() => setCurrentView('tickets')}\r\n            style={{ background: 'none', border: '1px solid white', color: 'white', padding: '0.5rem 1rem', borderRadius: '4px' }}\r\n          >\r\n            Tickets\r\n          </button>\r\n          <button \r\n            onClick={() => setCurrentView('users')}\r\n            style={{ background: 'none', border: '1px solid white', color: 'white', padding: '0.5rem 1rem', borderRadius: '4px' }}\r\n          >\r\n            Users\r\n          </button>\r\n          <button \r\n            onClick={() => setCurrentView('categories')}\r\n            style={{ background: 'none', border: '1px solid white', color: 'white', padding: '0.5rem 1rem', borderRadius: '4px' }}\r\n          >\r\n            Categories\r\n          </button>\r\n          <button \r\n            onClick={handleLogout}\r\n            style={{ background: '#e74c3c', border: 'none', color: 'white', padding: '0.5rem 1rem', borderRadius: '4px' }}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </nav>\r\n      {renderContent()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPortal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}