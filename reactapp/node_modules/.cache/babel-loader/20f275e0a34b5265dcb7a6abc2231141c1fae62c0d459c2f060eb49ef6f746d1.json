{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TicketList=_ref=>{let{onViewDetails}=_ref;const[tickets,setTickets]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchTickets();},[]);const fetchTickets=async()=>{try{const response=await fetch('/api/tickets');if(!response.ok){throw new Error('Failed to fetch tickets');}const data=await response.json();setTickets(data);}catch(err){setError(err.message);}finally{setLoading(false);}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};const getStatusClass=status=>{return\"status-badge status-\".concat(status.toLowerCase());};const getPriorityClass=priority=>{return\"priority-\".concat(priority.toLowerCase());};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"Loading tickets...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Tickets\"}),tickets.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No tickets found. \",/*#__PURE__*/_jsx(\"a\",{href:\"/create\",children:\"Create the first ticket\"})]})}):/*#__PURE__*/_jsx(\"div\",{children:tickets.map(ticket=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 0.5rem 0'},children:ticket.title}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 1rem 0',color:'#666'},children:ticket.description}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{className:getStatusClass(ticket.status),children:ticket.status}),/*#__PURE__*/_jsxs(\"span\",{className:getPriorityClass(ticket.priority),children:[\"Priority: \",ticket.priority]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#666'},children:[\"Category: \",ticket.category]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem',fontSize:'0.9rem',color:'#666'},children:[\"Reported by: \",ticket.reportedBy,\" \\u2022 Created: \",formatDate(ticket.createdAt)]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:()=>onViewDetails(ticket.id),style:{marginLeft:'1rem'},children:\"View Details\"})]})},ticket.id))})]});};export default TicketList;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TicketList","_ref","onViewDetails","tickets","setTickets","loading","setLoading","error","setError","fetchTickets","response","fetch","ok","Error","data","json","err","message","formatDate","dateString","Date","toLocaleDateString","getStatusClass","status","concat","toLowerCase","getPriorityClass","priority","className","children","length","href","map","ticket","style","display","justifyContent","alignItems","flex","margin","title","color","description","gap","category","marginTop","fontSize","reportedBy","createdAt","onClick","id","marginLeft"],"sources":["D:/Helpdesk_Ticketing/98698b33-5bdf-4501-9f43-41e3e1cbf16a-628b1e05-cb12-43d5-95c0-c4c48d574d3a/reactapp/src/components/TicketList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst TicketList = ({ onViewDetails }) => {\r\n  const [tickets, setTickets] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchTickets();\r\n  }, []);\r\n\r\n  const fetchTickets = async () => {\r\n    try {\r\n      const response = await fetch('/api/tickets');\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch tickets');\r\n      }\r\n      const data = await response.json();\r\n      setTickets(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString();\r\n  };\r\n\r\n  const getStatusClass = (status) => {\r\n    return `status-badge status-${status.toLowerCase()}`;\r\n  };\r\n\r\n  const getPriorityClass = (priority) => {\r\n    return `priority-${priority.toLowerCase()}`;\r\n  };\r\n\r\n  if (loading) return <div className=\"container\">Loading tickets...</div>;\r\n  if (error) return <div className=\"container\">Error: {error}</div>;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>All Tickets</h1>\r\n      {tickets.length === 0 ? (\r\n        <div className=\"card\">\r\n          <p>No tickets found. <a href=\"/create\">Create the first ticket</a></p>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {tickets.map(ticket => (\r\n            <div key={ticket.id} className=\"card\">\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <h3 style={{ margin: '0 0 0.5rem 0' }}>{ticket.title}</h3>\r\n                  <p style={{ margin: '0 0 1rem 0', color: '#666' }}>{ticket.description}</p>\r\n                  <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\r\n                    <span className={getStatusClass(ticket.status)}>{ticket.status}</span>\r\n                    <span className={getPriorityClass(ticket.priority)}>\r\n                      Priority: {ticket.priority}\r\n                    </span>\r\n                    <span style={{ color: '#666' }}>Category: {ticket.category}</span>\r\n                  </div>\r\n                  <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666' }}>\r\n                    Reported by: {ticket.reportedBy} â€¢ Created: {formatDate(ticket.createdAt)}\r\n                  </div>\r\n                </div>\r\n                <button \r\n                  className=\"btn-primary\" \r\n                  onClick={() => onViewDetails(ticket.id)}\r\n                  style={{ marginLeft: '1rem' }}\r\n                >\r\n                  View Details\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}