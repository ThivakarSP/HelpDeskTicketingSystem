{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import Login from'./components/Login';import Signup from'./components/Signup';import AdminPortal from'./components/AdminPortal';import UserPortal from'./components/UserPortal';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const userData=localStorage.getItem('user');if(userData){setUser(JSON.parse(userData));}setIsLoading(false);},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"Loading...\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{onSignup:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/*\",element:user&&user.role==='admin'?/*#__PURE__*/_jsx(AdminPortal,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/*\",element:user&&user.role==='user'?/*#__PURE__*/_jsx(UserPortal,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:user?user.role==='admin'?/*#__PURE__*/_jsx(Navigate,{to:\"/admin\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/user\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Login","Signup","AdminPortal","UserPortal","BrowserRouter","Router","Routes","Route","Navigate","jsx","_jsx","jsxs","_jsxs","App","user","setUser","isLoading","setIsLoading","userData","localStorage","getItem","JSON","parse","className","children","path","element","onLogin","onSignup","role","to"],"sources":["D:/Helpdesk_Ticketing/98698b33-5bdf-4501-9f43-41e3e1cbf16a-628b1e05-cb12-43d5-95c0-c4c48d574d3a/reactapp/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport Login from './components/Login';\r\nimport Signup from './components/Signup';\r\nimport AdminPortal from './components/AdminPortal';\r\nimport UserPortal from './components/UserPortal';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const userData = localStorage.getItem('user');\r\n    if (userData) {\r\n      setUser(JSON.parse(userData));\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <div className=\"container\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/login\" element={<Login onLogin={setUser} />} />\r\n        <Route path=\"/signup\" element={<Signup onSignup={setUser} />} />\r\n        <Route path=\"/admin/*\" element={\r\n          user && user.role === 'admin' ? <AdminPortal /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/user/*\" element={\r\n          user && user.role === 'user' ? <UserPortal /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/*\" element={\r\n          user ? (\r\n            user.role === 'admin' ? <Navigate to=\"/admin\" /> : <Navigate to=\"/user\" />\r\n          ) : (\r\n            <Navigate to=\"/login\" />\r\n          )\r\n        } />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpF,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACkB,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC7C,GAAIF,QAAQ,CAAE,CACZH,OAAO,CAACM,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAAC,CAAC,CAC/B,CACAD,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,SAAS,CAAE,CACb,mBAAON,IAAA,QAAKa,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CACpD,CAEA,mBACEd,IAAA,CAACL,MAAM,EAAAmB,QAAA,cACLZ,KAAA,CAACN,MAAM,EAAAkB,QAAA,eACLd,IAAA,CAACH,KAAK,EAACkB,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEhB,IAAA,CAACV,KAAK,EAAC2B,OAAO,CAAEZ,OAAQ,CAAE,CAAE,CAAE,CAAC,cAC7DL,IAAA,CAACH,KAAK,EAACkB,IAAI,CAAC,SAAS,CAACC,OAAO,cAAEhB,IAAA,CAACT,MAAM,EAAC2B,QAAQ,CAAEb,OAAQ,CAAE,CAAE,CAAE,CAAC,cAChEL,IAAA,CAACH,KAAK,EAACkB,IAAI,CAAC,UAAU,CAACC,OAAO,CAC5BZ,IAAI,EAAIA,IAAI,CAACe,IAAI,GAAK,OAAO,cAAGnB,IAAA,CAACR,WAAW,GAAE,CAAC,cAAGQ,IAAA,CAACF,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAC1E,CAAE,CAAC,cACJpB,IAAA,CAACH,KAAK,EAACkB,IAAI,CAAC,SAAS,CAACC,OAAO,CAC3BZ,IAAI,EAAIA,IAAI,CAACe,IAAI,GAAK,MAAM,cAAGnB,IAAA,CAACP,UAAU,GAAE,CAAC,cAAGO,IAAA,CAACF,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CACxE,CAAE,CAAC,cACJpB,IAAA,CAACH,KAAK,EAACkB,IAAI,CAAC,IAAI,CAACC,OAAO,CACtBZ,IAAI,CACFA,IAAI,CAACe,IAAI,GAAK,OAAO,cAAGnB,IAAA,CAACF,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAAC,cAAGpB,IAAA,CAACF,QAAQ,EAACsB,EAAE,CAAC,OAAO,CAAE,CAAC,cAE1EpB,IAAA,CAACF,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAE1B,CAAE,CAAC,EACE,CAAC,CACH,CAAC,CAEb,CAEA,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}