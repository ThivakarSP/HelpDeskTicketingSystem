{"ast":null,"code":"import _objectSpread from\"D:/Helpdesk_Ticketing/98698b33-5bdf-4501-9f43-41e3e1cbf16a-628b1e05-cb12-43d5-95c0-c4c48d574d3a/reactapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const KnowledgeBaseManagement=()=>{const[articles,setArticles]=useState([]);const[categories,setCategories]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showForm,setShowForm]=useState(false);const[editingArticle,setEditingArticle]=useState(null);const[formData,setFormData]=useState({title:'',content:'',categoryId:''});useEffect(()=>{fetchArticles();fetchCategories();},[]);const fetchArticles=async()=>{try{const response=await fetch('http://localhost:8080/api/knowledge-base');if(!response.ok){throw new Error(\"Backend not available (status \".concat(response.status,\")\"));}const data=await response.json();setArticles(data);// Store articles in localStorage for consistency\nlocalStorage.setItem('knowledgeBaseArticles',JSON.stringify(data));}catch(err){console.error('Fetch articles error:',err);// Fallback to localStorage for demo mode\nconst storedArticles=localStorage.getItem('knowledgeBaseArticles');if(storedArticles){setArticles(JSON.parse(storedArticles));}else{// Set default demo articles\nconst demoArticles=[{id:1,title:'How to reset your password',content:'To reset your password, go to the login page and click \"Forgot Password\". Enter your email address and follow the instructions sent to your email.',category:{id:1,name:'Account Management'},categoryId:1},{id:2,title:'How to create a support ticket',content:'To create a support ticket, navigate to the \"Create Ticket\" page, fill in the required information including title, description, and priority level.',category:{id:2,name:'General Help'},categoryId:2}];setArticles(demoArticles);localStorage.setItem('knowledgeBaseArticles',JSON.stringify(demoArticles));}setError('Backend not available - using demo mode');}finally{setLoading(false);}};const fetchCategories=async()=>{try{const response=await fetch('http://localhost:8080/api/lookups/categories');if(response.ok){const data=await response.json();setCategories(data);// Store categories in localStorage for consistency\nlocalStorage.setItem('categories',JSON.stringify(data));console.log('Fetched categories from API and stored in localStorage:',data);}else{throw new Error('Categories API not available');}}catch(err){console.error('Failed to fetch categories:',err);// Fallback to localStorage for demo mode\nconst storedCategories=localStorage.getItem('categories');if(storedCategories){setCategories(JSON.parse(storedCategories));}else{// Set default demo categories\nconst demoCategories=[{id:1,name:'Account Management'},{id:2,name:'General Help'},{id:3,name:'Technical Issues'},{id:4,name:'Billing'}];setCategories(demoCategories);localStorage.setItem('categories',JSON.stringify(demoCategories));}}};const handleSubmit=async e=>{e.preventDefault();try{const url=editingArticle?\"http://localhost:8080/api/knowledge-base/\".concat(editingArticle.id):'http://localhost:8080/api/knowledge-base';const method=editingArticle?'PUT':'POST';const payload={title:formData.title,content:formData.content,categoryId:formData.categoryId||null};const response=await fetch(url,{method,headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){throw new Error('Backend not available');}await fetchArticles();}catch(err){console.error('API error, using localStorage:',err);// Fallback to localStorage\nconst selectedCategory=categories.find(cat=>cat.id===parseInt(formData.categoryId));if(editingArticle){// Update existing article\nconst updatedArticles=articles.map(article=>article.id===editingArticle.id?_objectSpread(_objectSpread({},article),{},{title:formData.title,content:formData.content,categoryId:formData.categoryId?parseInt(formData.categoryId):null,category:selectedCategory||null}):article);setArticles(updatedArticles);localStorage.setItem('knowledgeBaseArticles',JSON.stringify(updatedArticles));console.log('Updated articles in localStorage:',updatedArticles);}else{// Create new article\nconst newArticle={id:Date.now(),title:formData.title,content:formData.content,categoryId:formData.categoryId?parseInt(formData.categoryId):null,category:selectedCategory||null};const updatedArticles=[...articles,newArticle];setArticles(updatedArticles);localStorage.setItem('knowledgeBaseArticles',JSON.stringify(updatedArticles));console.log('Created new article in localStorage:',updatedArticles);}}setShowForm(false);setEditingArticle(null);setFormData({title:'',content:'',categoryId:''});};const handleEdit=article=>{setEditingArticle(article);setFormData({title:article.title,content:article.content,categoryId:article.categoryId?article.categoryId.toString():article.category?article.category.id.toString():''});setShowForm(true);};const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this article?')){try{const response=await fetch(\"http://localhost:8080/api/knowledge-base/\".concat(id),{method:'DELETE'});if(!response.ok){throw new Error('Backend not available');}await fetchArticles();}catch(err){console.error('API error, using localStorage:',err);// Fallback to localStorage\nconst updatedArticles=articles.filter(article=>article.id!==id);setArticles(updatedArticles);localStorage.setItem('knowledgeBaseArticles',JSON.stringify(updatedArticles));}}};const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const resetForm=()=>{setShowForm(false);setEditingArticle(null);setFormData({title:'',content:'',categoryId:''});};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"Loading knowledge base...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Knowledge Base Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:()=>setShowForm(true),disabled:showForm,children:\"Add Article\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'red',marginBottom:'1rem'},children:[\"Error: \",error]}),showForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:editingArticle?'Edit Article':'Add New Article'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:formData.title,onChange:handleChange,required:true,style:{width:'100%',padding:'0.5rem',marginTop:'0.25rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categoryId\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"categoryId\",name:\"categoryId\",value:formData.categoryId,onChange:handleChange,style:{width:'100%',padding:'0.5rem',marginTop:'0.25rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a category (optional)\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"Content *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",name:\"content\",value:formData.content,onChange:handleChange,required:true,rows:8,style:{width:'100%',padding:'0.5rem',marginTop:'0.25rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:editingArticle?'Update':'Create'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:resetForm,children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:articles.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No articles found. Create the first article to get started.\"})}):articles.map(article=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 0.5rem 0'},children:article.title}),article.category&&/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:'#e9ecef',padding:'0.25rem 0.5rem',borderRadius:'0.25rem',fontSize:'0.875rem',marginBottom:'0.5rem',display:'inline-block'},children:article.category.name}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0.5rem 0 0 0',color:'#666',display:'-webkit-box',WebkitLineClamp:3,WebkitBoxOrient:'vertical',overflow:'hidden'},children:article.content})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',marginLeft:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>handleEdit(article),disabled:showForm,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-danger\",onClick:()=>handleDelete(article.id),style:{backgroundColor:'#dc3545',color:'white'},children:\"Delete\"})]})]})},article.id))})]});};export default KnowledgeBaseManagement;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","KnowledgeBaseManagement","articles","setArticles","categories","setCategories","loading","setLoading","error","setError","showForm","setShowForm","editingArticle","setEditingArticle","formData","setFormData","title","content","categoryId","fetchArticles","fetchCategories","response","fetch","ok","Error","concat","status","data","json","localStorage","setItem","JSON","stringify","err","console","storedArticles","getItem","parse","demoArticles","id","category","name","log","storedCategories","demoCategories","handleSubmit","e","preventDefault","url","method","payload","headers","body","selectedCategory","find","cat","parseInt","updatedArticles","map","article","_objectSpread","newArticle","Date","now","handleEdit","toString","handleDelete","window","confirm","filter","handleChange","target","value","resetForm","className","children","style","display","justifyContent","alignItems","marginBottom","onClick","disabled","color","onSubmit","htmlFor","type","onChange","required","width","padding","marginTop","rows","gap","length","flex","margin","backgroundColor","borderRadius","fontSize","WebkitLineClamp","WebkitBoxOrient","overflow","marginLeft"],"sources":["D:/Helpdesk_Ticketing/98698b33-5bdf-4501-9f43-41e3e1cbf16a-628b1e05-cb12-43d5-95c0-c4c48d574d3a/reactapp/src/components/KnowledgeBaseManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst KnowledgeBaseManagement = () => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingArticle, setEditingArticle] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    content: '',\r\n    categoryId: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchArticles();\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchArticles = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/knowledge-base');\r\n      if (!response.ok) {\r\n        throw new Error(`Backend not available (status ${response.status})`);\r\n      }\r\n      const data = await response.json();\r\n      setArticles(data);\r\n      // Store articles in localStorage for consistency\r\n      localStorage.setItem('knowledgeBaseArticles', JSON.stringify(data));\r\n    } catch (err) {\r\n      console.error('Fetch articles error:', err);\r\n      // Fallback to localStorage for demo mode\r\n      const storedArticles = localStorage.getItem('knowledgeBaseArticles');\r\n      if (storedArticles) {\r\n        setArticles(JSON.parse(storedArticles));\r\n      } else {\r\n        // Set default demo articles\r\n        const demoArticles = [\r\n          {\r\n            id: 1,\r\n            title: 'How to reset your password',\r\n            content: 'To reset your password, go to the login page and click \"Forgot Password\". Enter your email address and follow the instructions sent to your email.',\r\n            category: { id: 1, name: 'Account Management' },\r\n            categoryId: 1\r\n          },\r\n          {\r\n            id: 2,\r\n            title: 'How to create a support ticket',\r\n            content: 'To create a support ticket, navigate to the \"Create Ticket\" page, fill in the required information including title, description, and priority level.',\r\n            category: { id: 2, name: 'General Help' },\r\n            categoryId: 2\r\n          }\r\n        ];\r\n        setArticles(demoArticles);\r\n        localStorage.setItem('knowledgeBaseArticles', JSON.stringify(demoArticles));\r\n      }\r\n      setError('Backend not available - using demo mode');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/lookups/categories');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setCategories(data);\r\n        // Store categories in localStorage for consistency\r\n        localStorage.setItem('categories', JSON.stringify(data));\r\n        console.log('Fetched categories from API and stored in localStorage:', data);\r\n      } else {\r\n        throw new Error('Categories API not available');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch categories:', err);\r\n      // Fallback to localStorage for demo mode\r\n      const storedCategories = localStorage.getItem('categories');\r\n      if (storedCategories) {\r\n        setCategories(JSON.parse(storedCategories));\r\n      } else {\r\n        // Set default demo categories\r\n        const demoCategories = [\r\n          { id: 1, name: 'Account Management' },\r\n          { id: 2, name: 'General Help' },\r\n          { id: 3, name: 'Technical Issues' },\r\n          { id: 4, name: 'Billing' }\r\n        ];\r\n        setCategories(demoCategories);\r\n        localStorage.setItem('categories', JSON.stringify(demoCategories));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const url = editingArticle ? `http://localhost:8080/api/knowledge-base/${editingArticle.id}` : 'http://localhost:8080/api/knowledge-base';\r\n      const method = editingArticle ? 'PUT' : 'POST';\r\n      \r\n      const payload = {\r\n        title: formData.title,\r\n        content: formData.content,\r\n        categoryId: formData.categoryId || null\r\n      };\r\n      \r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Backend not available');\r\n      }\r\n\r\n      await fetchArticles();\r\n    } catch (err) {\r\n      console.error('API error, using localStorage:', err);\r\n      // Fallback to localStorage\r\n      const selectedCategory = categories.find(cat => cat.id === parseInt(formData.categoryId));\r\n      \r\n      if (editingArticle) {\r\n        // Update existing article\r\n        const updatedArticles = articles.map(article => \r\n          article.id === editingArticle.id \r\n            ? {\r\n                ...article,\r\n                title: formData.title,\r\n                content: formData.content,\r\n                categoryId: formData.categoryId ? parseInt(formData.categoryId) : null,\r\n                category: selectedCategory || null\r\n              }\r\n            : article\r\n        );\r\n        setArticles(updatedArticles);\r\n        localStorage.setItem('knowledgeBaseArticles', JSON.stringify(updatedArticles));\r\n        console.log('Updated articles in localStorage:', updatedArticles);\r\n      } else {\r\n        // Create new article\r\n        const newArticle = {\r\n          id: Date.now(),\r\n          title: formData.title,\r\n          content: formData.content,\r\n          categoryId: formData.categoryId ? parseInt(formData.categoryId) : null,\r\n          category: selectedCategory || null\r\n        };\r\n        const updatedArticles = [...articles, newArticle];\r\n        setArticles(updatedArticles);\r\n        localStorage.setItem('knowledgeBaseArticles', JSON.stringify(updatedArticles));\r\n        console.log('Created new article in localStorage:', updatedArticles);\r\n      }\r\n    }\r\n\r\n    setShowForm(false);\r\n    setEditingArticle(null);\r\n    setFormData({ title: '', content: '', categoryId: '' });\r\n  };\r\n\r\n  const handleEdit = (article) => {\r\n    setEditingArticle(article);\r\n    setFormData({\r\n      title: article.title,\r\n      content: article.content,\r\n      categoryId: article.categoryId ? article.categoryId.toString() : (article.category ? article.category.id.toString() : '')\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this article?')) {\r\n      try {\r\n        const response = await fetch(`http://localhost:8080/api/knowledge-base/${id}`, {\r\n          method: 'DELETE',\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Backend not available');\r\n        }\r\n\r\n        await fetchArticles();\r\n      } catch (err) {\r\n        console.error('API error, using localStorage:', err);\r\n        // Fallback to localStorage\r\n        const updatedArticles = articles.filter(article => article.id !== id);\r\n        setArticles(updatedArticles);\r\n        localStorage.setItem('knowledgeBaseArticles', JSON.stringify(updatedArticles));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setShowForm(false);\r\n    setEditingArticle(null);\r\n    setFormData({ title: '', content: '', categoryId: '' });\r\n  };\r\n\r\n  if (loading) return <div className=\"container\">Loading knowledge base...</div>;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n        <h1>Knowledge Base Management</h1>\r\n        <button \r\n          className=\"btn-primary\" \r\n          onClick={() => setShowForm(true)}\r\n          disabled={showForm}\r\n        >\r\n          Add Article\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div style={{ color: 'red', marginBottom: '1rem' }}>\r\n          Error: {error}\r\n        </div>\r\n      )}\r\n\r\n      {showForm && (\r\n        <div className=\"card\" style={{ marginBottom: '1rem' }}>\r\n          <h3>{editingArticle ? 'Edit Article' : 'Add New Article'}</h3>\r\n          <form onSubmit={handleSubmit}>\r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label htmlFor=\"title\">Title *</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"title\"\r\n                name=\"title\"\r\n                value={formData.title}\r\n                onChange={handleChange}\r\n                required\r\n                style={{ width: '100%', padding: '0.5rem', marginTop: '0.25rem' }}\r\n              />\r\n            </div>\r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label htmlFor=\"categoryId\">Category</label>\r\n              <select\r\n                id=\"categoryId\"\r\n                name=\"categoryId\"\r\n                value={formData.categoryId}\r\n                onChange={handleChange}\r\n                style={{ width: '100%', padding: '0.5rem', marginTop: '0.25rem' }}\r\n              >\r\n                <option value=\"\">Select a category (optional)</option>\r\n                {categories.map(category => (\r\n                  <option key={category.id} value={category.id}>\r\n                    {category.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label htmlFor=\"content\">Content *</label>\r\n              <textarea\r\n                id=\"content\"\r\n                name=\"content\"\r\n                value={formData.content}\r\n                onChange={handleChange}\r\n                required\r\n                rows={8}\r\n                style={{ width: '100%', padding: '0.5rem', marginTop: '0.25rem' }}\r\n              />\r\n            </div>\r\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n              <button type=\"submit\" className=\"btn-primary\">\r\n                {editingArticle ? 'Update' : 'Create'}\r\n              </button>\r\n              <button type=\"button\" className=\"btn-secondary\" onClick={resetForm}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div>\r\n        {articles.length === 0 ? (\r\n          <div className=\"card\">\r\n            <p>No articles found. Create the first article to get started.</p>\r\n          </div>\r\n        ) : (\r\n          articles.map(article => (\r\n            <div key={article.id} className=\"card\">\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <h3 style={{ margin: '0 0 0.5rem 0' }}>{article.title}</h3>\r\n                  {article.category && (\r\n                    <span style={{ \r\n                      backgroundColor: '#e9ecef', \r\n                      padding: '0.25rem 0.5rem', \r\n                      borderRadius: '0.25rem', \r\n                      fontSize: '0.875rem',\r\n                      marginBottom: '0.5rem',\r\n                      display: 'inline-block'\r\n                    }}>\r\n                      {article.category.name}\r\n                    </span>\r\n                  )}\r\n                  <p style={{ \r\n                    margin: '0.5rem 0 0 0', \r\n                    color: '#666',\r\n                    display: '-webkit-box',\r\n                    WebkitLineClamp: 3,\r\n                    WebkitBoxOrient: 'vertical',\r\n                    overflow: 'hidden'\r\n                  }}>\r\n                    {article.content}\r\n                  </p>\r\n                </div>\r\n                <div style={{ display: 'flex', gap: '0.5rem', marginLeft: '1rem' }}>\r\n                  <button \r\n                    className=\"btn-secondary\" \r\n                    onClick={() => handleEdit(article)}\r\n                    disabled={showForm}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button \r\n                    className=\"btn-danger\" \r\n                    onClick={() => handleDelete(article.id)}\r\n                    style={{ backgroundColor: '#dc3545', color: 'white' }}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default KnowledgeBaseManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}