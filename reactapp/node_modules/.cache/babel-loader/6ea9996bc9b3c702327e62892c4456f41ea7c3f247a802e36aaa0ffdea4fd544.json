{"ast":null,"code":"var _jsxFileName = \"D:\\\\Helpdesk_Ticketing\\\\98698b33-5bdf-4501-9f43-41e3e1cbf16a-628b1e05-cb12-43d5-95c0-c4c48d574d3a\\\\reactapp\\\\src\\\\components\\\\KnowledgeBaseView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KnowledgeBaseView = () => {\n  _s();\n  var _categories$find2;\n  const [articles, setArticles] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const fetchArticles = async () => {\n    try {\n      const response = await fetch('http://localhost:8080/api/knowledge-base');\n      if (!response.ok) {\n        throw new Error('Backend not available');\n      }\n      const data = await response.json();\n      setArticles(data);\n      // Store articles in localStorage for consistency\n      localStorage.setItem('knowledgeBaseArticles', JSON.stringify(data));\n    } catch (err) {\n      console.error('Fetch articles error:', err);\n      // Check localStorage first for admin-edited articles\n      const storedArticles = localStorage.getItem('knowledgeBaseArticles');\n      if (storedArticles) {\n        setArticles(JSON.parse(storedArticles));\n      } else {\n        // Use demo data if no stored articles\n        setArticles(getDemoArticles());\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const response = await fetch('http://localhost:8080/api/lookups/categories');\n      if (response.ok) {\n        const data = await response.json();\n        setCategories(data);\n        // Store categories in localStorage for consistency\n        localStorage.setItem('categories', JSON.stringify(data));\n      } else {\n        throw new Error('Categories API not available');\n      }\n    } catch (err) {\n      console.error('Failed to fetch categories:', err);\n      // Check localStorage first for admin-edited categories\n      const storedCategories = localStorage.getItem('categories');\n      if (storedCategories) {\n        setCategories(JSON.parse(storedCategories));\n      } else {\n        // Use demo categories if no stored categories\n        setCategories(getDemoCategories());\n      }\n    }\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetchArticles();\n      await fetchCategories();\n    };\n    fetchData();\n\n    // Listen for localStorage changes (when admin updates categories/articles)\n    const handleStorageChange = e => {\n      if (e.key === 'categories') {\n        const updatedCategories = JSON.parse(e.newValue || '[]');\n        setCategories(updatedCategories);\n      } else if (e.key === 'knowledgeBaseArticles') {\n        const updatedArticles = JSON.parse(e.newValue || '[]');\n        setArticles(updatedArticles);\n      }\n    };\n    window.addEventListener('storage', handleStorageChange);\n\n    // Also check for localStorage changes on focus (same tab updates)\n    const handleFocus = () => {\n      const storedCategories = localStorage.getItem('categories');\n      const storedArticles = localStorage.getItem('knowledgeBaseArticles');\n      if (storedCategories) {\n        const parsedCategories = JSON.parse(storedCategories);\n        setCategories(parsedCategories);\n      }\n      if (storedArticles) {\n        const parsedArticles = JSON.parse(storedArticles);\n        setArticles(parsedArticles);\n      }\n    };\n    window.addEventListener('focus', handleFocus);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('focus', handleFocus);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const getDemoArticles = () => [{\n    id: 1,\n    title: 'How to Reset Your Password',\n    content: 'To reset your password:\\n1. Go to the login page\\n2. Click \"Forgot Password\"\\n3. Enter your email address\\n4. Check your email for reset instructions\\n5. Follow the link in the email to create a new password',\n    categoryId: 1,\n    category: {\n      id: 1,\n      name: 'Account Management'\n    },\n    createdAt: '2024-01-01T10:00:00'\n  }, {\n    id: 2,\n    title: 'Creating a Support Ticket',\n    content: 'To create a support ticket:\\n1. Click on \"Create Ticket\" in the navigation\\n2. Fill in the required fields:\\n   - Title: Brief description of the issue\\n   - Description: Detailed explanation\\n   - Priority: Select appropriate priority level\\n   - Category: Choose the relevant category\\n3. Click \"Submit\" to create the ticket\\n4. You will receive a confirmation email with your ticket number',\n    categoryId: 2,\n    category: {\n      id: 2,\n      name: 'Getting Started'\n    },\n    createdAt: '2024-01-02T10:00:00'\n  }, {\n    id: 3,\n    title: 'Understanding Ticket Priorities',\n    content: 'Ticket priorities help us respond to your requests appropriately:\\n\\n• High Priority: Critical issues affecting business operations\\n• Medium Priority: Important issues that need attention soon\\n• Low Priority: General questions or minor issues\\n\\nPlease select the appropriate priority to ensure timely response to your request.',\n    categoryId: 2,\n    category: {\n      id: 2,\n      name: 'Getting Started'\n    },\n    createdAt: '2024-01-03T10:00:00'\n  }, {\n    id: 4,\n    title: 'Browser Compatibility',\n    content: 'Our application works best with modern browsers:\\n\\nRecommended Browsers:\\n• Google Chrome (latest version)\\n• Mozilla Firefox (latest version)\\n• Microsoft Edge (latest version)\\n• Safari (latest version)\\n\\nIf you experience issues, please try:\\n1. Clearing your browser cache\\n2. Disabling browser extensions\\n3. Using an incognito/private window',\n    categoryId: 3,\n    category: {\n      id: 3,\n      name: 'Technical Support'\n    },\n    createdAt: '2024-01-04T10:00:00'\n  }, {\n    id: 5,\n    title: 'Two-Factor Authentication Setup',\n    content: 'For enhanced security, we recommend enabling two-factor authentication:\\n\\n1. Go to Account Settings\\n2. Click on \"Security\" tab\\n3. Enable \"Two-Factor Authentication\"\\n4. Download an authenticator app (Google Authenticator, Authy, etc.)\\n5. Scan the QR code with your app\\n6. Enter the verification code to complete setup\\n\\nYour account will now require both your password and a code from your authenticator app to sign in.',\n    categoryId: 1,\n    category: {\n      id: 1,\n      name: 'Account Management'\n    },\n    createdAt: '2024-01-05T10:00:00'\n  }, {\n    id: 6,\n    title: 'Network Connectivity Issues',\n    content: 'If you\\'re experiencing network connectivity issues:\\n\\n1. Check your internet connection\\n2. Try refreshing the page\\n3. Clear your browser cache and cookies\\n4. Disable VPN if you\\'re using one\\n5. Check if our service status page shows any outages\\n6. Try accessing from a different network\\n\\nIf the problem persists, please contact our technical support team.',\n    categoryId: 3,\n    category: {\n      id: 3,\n      name: 'Technical Support'\n    },\n    createdAt: '2024-01-06T10:00:00'\n  }];\n  const getDemoCategories = () => [{\n    id: 1,\n    name: 'Account Management'\n  }, {\n    id: 2,\n    name: 'Getting Started'\n  }, {\n    id: 3,\n    name: 'Technical Support'\n  }];\n  const filteredArticles = articles.filter(article => {\n    const matchesSearch = article.title.toLowerCase().includes(searchTerm.toLowerCase()) || article.content.toLowerCase().includes(searchTerm.toLowerCase());\n\n    // Category filtering - check multiple possible category field structures\n    let matchesCategory = selectedCategory === '';\n    if (!matchesCategory && selectedCategory) {\n      var _article$category, _article$category2, _categories$find;\n      const categoryIdToCheck = article.categoryId || ((_article$category = article.category) === null || _article$category === void 0 ? void 0 : _article$category.id);\n      const categoryNameToCheck = (_article$category2 = article.category) === null || _article$category2 === void 0 ? void 0 : _article$category2.name;\n      matchesCategory = (categoryIdToCheck === null || categoryIdToCheck === void 0 ? void 0 : categoryIdToCheck.toString()) === selectedCategory || categoryNameToCheck === selectedCategory ||\n      // Also check if selectedCategory matches category name from the categories list\n      ((_categories$find = categories.find(cat => cat.id.toString() === selectedCategory)) === null || _categories$find === void 0 ? void 0 : _categories$find.name) === categoryNameToCheck;\n    }\n    return matchesSearch && matchesCategory;\n  });\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: \"Loading knowledge base...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 23\n  }, this);\n  if (selectedArticle) {\n    var _selectedArticle$cate;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedArticle(null),\n        style: {\n          marginBottom: '1rem',\n          background: 'none',\n          border: '1px solid #ccc',\n          padding: '0.5rem 1rem',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: \"\\u2190 Back to Knowledge Base\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: selectedArticle.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '0.9rem',\n            color: '#666',\n            marginBottom: '1rem',\n            borderBottom: '1px solid #eee',\n            paddingBottom: '0.5rem'\n          },\n          children: [\"Category: \", ((_selectedArticle$cate = selectedArticle.category) === null || _selectedArticle$cate === void 0 ? void 0 : _selectedArticle$cate.name) || 'Uncategorized', \" \\u2022 Published: \", formatDate(selectedArticle.createdAt)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            lineHeight: '1.6',\n            whiteSpace: 'pre-line',\n            fontSize: '1rem'\n          },\n          children: selectedArticle.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n  const refreshData = async () => {\n    setLoading(true);\n    await fetchArticles();\n    await fetchCategories();\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: '#1f2937',\n          fontWeight: '700'\n        },\n        children: \"Knowledge Base\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: refreshData,\n        style: {\n          backgroundColor: '#3b82f6',\n          color: 'white',\n          border: 'none',\n          padding: '0.5rem 1rem',\n          borderRadius: '8px',\n          cursor: 'pointer',\n          fontWeight: '600',\n          fontSize: '0.9rem',\n          transition: 'all 0.3s ease'\n        },\n        onMouseOver: e => e.target.style.backgroundColor = '#2563eb',\n        onMouseOut: e => e.target.style.backgroundColor = '#3b82f6',\n        children: \"\\uD83D\\uDD04 Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#374151',\n        marginBottom: '2rem',\n        fontSize: '1.1rem',\n        fontWeight: '500'\n      },\n      children: \"Find answers to frequently asked questions and learn how to use our system.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '1fr auto',\n        gap: '1rem',\n        marginBottom: '2rem',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search articles...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        style: {\n          padding: '0.75rem',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          fontSize: '1rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedCategory,\n        onChange: e => setSelectedCategory(e.target.value),\n        style: {\n          padding: '0.75rem',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          fontSize: '1rem',\n          minWidth: '200px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: [\"All Categories (\", articles.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), categories.map(category => {\n          const articleCount = articles.filter(article => {\n            var _article$categoryId, _article$category3, _article$category3$id;\n            return ((_article$categoryId = article.categoryId) === null || _article$categoryId === void 0 ? void 0 : _article$categoryId.toString()) === category.id.toString() || ((_article$category3 = article.category) === null || _article$category3 === void 0 ? void 0 : (_article$category3$id = _article$category3.id) === null || _article$category3$id === void 0 ? void 0 : _article$category3$id.toString()) === category.id.toString();\n          }).length;\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category.id,\n            children: [category.name, \" (\", articleCount, \")\"]\n          }, category.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '1rem',\n        color: '#374151',\n        fontSize: '1rem',\n        fontWeight: '500'\n      },\n      children: [\"Showing \", filteredArticles.length, \" article\", filteredArticles.length !== 1 ? 's' : '', selectedCategory && ` in ${(_categories$find2 = categories.find(cat => cat.id.toString() === selectedCategory)) === null || _categories$find2 === void 0 ? void 0 : _categories$find2.name}`, searchTerm && ` matching \"${searchTerm}\"`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), filteredArticles.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#374151',\n          fontSize: '1.1rem',\n          fontWeight: '500',\n          margin: 0\n        },\n        children: \"No articles found matching your search criteria.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: '1rem'\n      },\n      children: filteredArticles.map(article => {\n        var _article$category4;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            cursor: 'pointer',\n            transition: 'box-shadow 0.2s',\n            ':hover': {\n              boxShadow: '0 4px 8px rgba(0,0,0,0.1)'\n            }\n          },\n          onClick: () => setSelectedArticle(article),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'flex-start'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0 0 0.5rem 0',\n                  color: '#1e40af',\n                  fontWeight: '600'\n                },\n                children: article.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: '0 0 1rem 0',\n                  color: '#374151',\n                  display: '-webkit-box',\n                  WebkitLineClamp: 2,\n                  WebkitBoxOrient: 'vertical',\n                  overflow: 'hidden',\n                  lineHeight: '1.5'\n                },\n                children: article.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.9rem',\n                  color: '#4b5563'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    backgroundColor: '#e5e7eb',\n                    color: '#1f2937',\n                    padding: '0.25rem 0.5rem',\n                    borderRadius: '12px',\n                    marginRight: '0.5rem',\n                    fontWeight: '500'\n                  },\n                  children: ((_article$category4 = article.category) === null || _article$category4 === void 0 ? void 0 : _article$category4.name) || 'Uncategorized'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this), \"\\u2022 Published: \", formatDate(article.createdAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginLeft: '1rem',\n                color: '#1e40af',\n                fontWeight: 'bold'\n              },\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)\n        }, article.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n};\n_s(KnowledgeBaseView, \"VLguoYbGOthR3BEeOTvI+bMKGBM=\");\n_c = KnowledgeBaseView;\nexport default KnowledgeBaseView;\nvar _c;\n$RefreshReg$(_c, \"KnowledgeBaseView\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","KnowledgeBaseView","_s","_categories$find2","articles","setArticles","categories","setCategories","loading","setLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","selectedArticle","setSelectedArticle","fetchArticles","response","fetch","ok","Error","data","json","localStorage","setItem","JSON","stringify","err","console","error","storedArticles","getItem","parse","getDemoArticles","fetchCategories","storedCategories","getDemoCategories","fetchData","handleStorageChange","e","key","updatedCategories","newValue","updatedArticles","window","addEventListener","handleFocus","parsedCategories","parsedArticles","removeEventListener","id","title","content","categoryId","category","name","createdAt","filteredArticles","filter","article","matchesSearch","toLowerCase","includes","matchesCategory","_article$category","_article$category2","_categories$find","categoryIdToCheck","categoryNameToCheck","toString","find","cat","formatDate","dateString","Date","toLocaleDateString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_selectedArticle$cate","onClick","style","marginBottom","background","border","padding","borderRadius","cursor","fontSize","color","borderBottom","paddingBottom","lineHeight","whiteSpace","refreshData","display","justifyContent","alignItems","fontWeight","backgroundColor","transition","onMouseOver","target","onMouseOut","gridTemplateColumns","gap","type","placeholder","value","onChange","minWidth","length","map","articleCount","_article$categoryId","_article$category3","_article$category3$id","margin","_article$category4","boxShadow","flex","WebkitLineClamp","WebkitBoxOrient","overflow","marginRight","marginLeft","_c","$RefreshReg$"],"sources":["D:/Helpdesk_Ticketing/98698b33-5bdf-4501-9f43-41e3e1cbf16a-628b1e05-cb12-43d5-95c0-c4c48d574d3a/reactapp/src/components/KnowledgeBaseView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst KnowledgeBaseView = () => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [selectedArticle, setSelectedArticle] = useState(null);\r\n\r\n  const fetchArticles = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/knowledge-base');\r\n      if (!response.ok) {\r\n        throw new Error('Backend not available');\r\n      }\r\n      const data = await response.json();\r\n      setArticles(data);\r\n      // Store articles in localStorage for consistency\r\n      localStorage.setItem('knowledgeBaseArticles', JSON.stringify(data));\r\n    } catch (err) {\r\n      console.error('Fetch articles error:', err);\r\n      // Check localStorage first for admin-edited articles\r\n      const storedArticles = localStorage.getItem('knowledgeBaseArticles');\r\n      if (storedArticles) {\r\n        setArticles(JSON.parse(storedArticles));\r\n      } else {\r\n        // Use demo data if no stored articles\r\n        setArticles(getDemoArticles());\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/lookups/categories');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setCategories(data);\r\n        // Store categories in localStorage for consistency\r\n        localStorage.setItem('categories', JSON.stringify(data));\r\n      } else {\r\n        throw new Error('Categories API not available');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch categories:', err);\r\n      // Check localStorage first for admin-edited categories\r\n      const storedCategories = localStorage.getItem('categories');\r\n      if (storedCategories) {\r\n        setCategories(JSON.parse(storedCategories));\r\n      } else {\r\n        // Use demo categories if no stored categories\r\n        setCategories(getDemoCategories());\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      await fetchArticles();\r\n      await fetchCategories();\r\n    };\r\n    fetchData();\r\n\r\n    // Listen for localStorage changes (when admin updates categories/articles)\r\n    const handleStorageChange = (e) => {\r\n      if (e.key === 'categories') {\r\n        const updatedCategories = JSON.parse(e.newValue || '[]');\r\n        setCategories(updatedCategories);\r\n      } else if (e.key === 'knowledgeBaseArticles') {\r\n        const updatedArticles = JSON.parse(e.newValue || '[]');\r\n        setArticles(updatedArticles);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n    \r\n    // Also check for localStorage changes on focus (same tab updates)\r\n    const handleFocus = () => {\r\n      const storedCategories = localStorage.getItem('categories');\r\n      const storedArticles = localStorage.getItem('knowledgeBaseArticles');\r\n      \r\n      if (storedCategories) {\r\n        const parsedCategories = JSON.parse(storedCategories);\r\n        setCategories(parsedCategories);\r\n      }\r\n      \r\n      if (storedArticles) {\r\n        const parsedArticles = JSON.parse(storedArticles);\r\n        setArticles(parsedArticles);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getDemoArticles = () => [\r\n    {\r\n      id: 1,\r\n      title: 'How to Reset Your Password',\r\n      content: 'To reset your password:\\n1. Go to the login page\\n2. Click \"Forgot Password\"\\n3. Enter your email address\\n4. Check your email for reset instructions\\n5. Follow the link in the email to create a new password',\r\n      categoryId: 1,\r\n      category: { id: 1, name: 'Account Management' },\r\n      createdAt: '2024-01-01T10:00:00'\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'Creating a Support Ticket',\r\n      content: 'To create a support ticket:\\n1. Click on \"Create Ticket\" in the navigation\\n2. Fill in the required fields:\\n   - Title: Brief description of the issue\\n   - Description: Detailed explanation\\n   - Priority: Select appropriate priority level\\n   - Category: Choose the relevant category\\n3. Click \"Submit\" to create the ticket\\n4. You will receive a confirmation email with your ticket number',\r\n      categoryId: 2,\r\n      category: { id: 2, name: 'Getting Started' },\r\n      createdAt: '2024-01-02T10:00:00'\r\n    },\r\n    {\r\n      id: 3,\r\n      title: 'Understanding Ticket Priorities',\r\n      content: 'Ticket priorities help us respond to your requests appropriately:\\n\\n• High Priority: Critical issues affecting business operations\\n• Medium Priority: Important issues that need attention soon\\n• Low Priority: General questions or minor issues\\n\\nPlease select the appropriate priority to ensure timely response to your request.',\r\n      categoryId: 2,\r\n      category: { id: 2, name: 'Getting Started' },\r\n      createdAt: '2024-01-03T10:00:00'\r\n    },\r\n    {\r\n      id: 4,\r\n      title: 'Browser Compatibility',\r\n      content: 'Our application works best with modern browsers:\\n\\nRecommended Browsers:\\n• Google Chrome (latest version)\\n• Mozilla Firefox (latest version)\\n• Microsoft Edge (latest version)\\n• Safari (latest version)\\n\\nIf you experience issues, please try:\\n1. Clearing your browser cache\\n2. Disabling browser extensions\\n3. Using an incognito/private window',\r\n      categoryId: 3,\r\n      category: { id: 3, name: 'Technical Support' },\r\n      createdAt: '2024-01-04T10:00:00'\r\n    },\r\n    {\r\n      id: 5,\r\n      title: 'Two-Factor Authentication Setup',\r\n      content: 'For enhanced security, we recommend enabling two-factor authentication:\\n\\n1. Go to Account Settings\\n2. Click on \"Security\" tab\\n3. Enable \"Two-Factor Authentication\"\\n4. Download an authenticator app (Google Authenticator, Authy, etc.)\\n5. Scan the QR code with your app\\n6. Enter the verification code to complete setup\\n\\nYour account will now require both your password and a code from your authenticator app to sign in.',\r\n      categoryId: 1,\r\n      category: { id: 1, name: 'Account Management' },\r\n      createdAt: '2024-01-05T10:00:00'\r\n    },\r\n    {\r\n      id: 6,\r\n      title: 'Network Connectivity Issues',\r\n      content: 'If you\\'re experiencing network connectivity issues:\\n\\n1. Check your internet connection\\n2. Try refreshing the page\\n3. Clear your browser cache and cookies\\n4. Disable VPN if you\\'re using one\\n5. Check if our service status page shows any outages\\n6. Try accessing from a different network\\n\\nIf the problem persists, please contact our technical support team.',\r\n      categoryId: 3,\r\n      category: { id: 3, name: 'Technical Support' },\r\n      createdAt: '2024-01-06T10:00:00'\r\n    }\r\n  ];\r\n\r\n  const getDemoCategories = () => [\r\n    { id: 1, name: 'Account Management' },\r\n    { id: 2, name: 'Getting Started' },\r\n    { id: 3, name: 'Technical Support' }\r\n  ];\r\n\r\n  const filteredArticles = articles.filter(article => {\r\n    const matchesSearch = article.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         article.content.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    // Category filtering - check multiple possible category field structures\r\n    let matchesCategory = selectedCategory === '';\r\n    if (!matchesCategory && selectedCategory) {\r\n      const categoryIdToCheck = article.categoryId || article.category?.id;\r\n      const categoryNameToCheck = article.category?.name;\r\n      \r\n      matchesCategory = categoryIdToCheck?.toString() === selectedCategory ||\r\n                       categoryNameToCheck === selectedCategory ||\r\n                       // Also check if selectedCategory matches category name from the categories list\r\n                       categories.find(cat => cat.id.toString() === selectedCategory)?.name === categoryNameToCheck;\r\n    }\r\n    \r\n    return matchesSearch && matchesCategory;\r\n  });\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString();\r\n  };\r\n\r\n  if (loading) return <div className=\"container\">Loading knowledge base...</div>;\r\n\r\n  if (selectedArticle) {\r\n    return (\r\n      <div className=\"container\">\r\n        <button \r\n          onClick={() => setSelectedArticle(null)}\r\n          style={{ \r\n            marginBottom: '1rem', \r\n            background: 'none', \r\n            border: '1px solid #ccc', \r\n            padding: '0.5rem 1rem',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          ← Back to Knowledge Base\r\n        </button>\r\n        \r\n        <div className=\"card\">\r\n          <h1>{selectedArticle.title}</h1>\r\n          <div style={{ \r\n            fontSize: '0.9rem', \r\n            color: '#666', \r\n            marginBottom: '1rem',\r\n            borderBottom: '1px solid #eee',\r\n            paddingBottom: '0.5rem'\r\n          }}>\r\n            Category: {selectedArticle.category?.name || 'Uncategorized'} • \r\n            Published: {formatDate(selectedArticle.createdAt)}\r\n          </div>\r\n          <div style={{ \r\n            lineHeight: '1.6', \r\n            whiteSpace: 'pre-line',\r\n            fontSize: '1rem'\r\n          }}>\r\n            {selectedArticle.content}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const refreshData = async () => {\r\n    setLoading(true);\r\n    await fetchArticles();\r\n    await fetchCategories();\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n        <h1 style={{ color: '#1f2937', fontWeight: '700' }}>Knowledge Base</h1>\r\n        <button\r\n          onClick={refreshData}\r\n          style={{\r\n            backgroundColor: '#3b82f6',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '0.5rem 1rem',\r\n            borderRadius: '8px',\r\n            cursor: 'pointer',\r\n            fontWeight: '600',\r\n            fontSize: '0.9rem',\r\n            transition: 'all 0.3s ease'\r\n          }}\r\n          onMouseOver={(e) => e.target.style.backgroundColor = '#2563eb'}\r\n          onMouseOut={(e) => e.target.style.backgroundColor = '#3b82f6'}\r\n        >\r\n          🔄 Refresh\r\n        </button>\r\n      </div>\r\n      <p style={{ color: '#374151', marginBottom: '2rem', fontSize: '1.1rem', fontWeight: '500' }}>\r\n        Find answers to frequently asked questions and learn how to use our system.\r\n      </p>\r\n\r\n      <div style={{ \r\n        display: 'grid', \r\n        gridTemplateColumns: '1fr auto', \r\n        gap: '1rem', \r\n        marginBottom: '2rem',\r\n        alignItems: 'center'\r\n      }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search articles...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          style={{\r\n            padding: '0.75rem',\r\n            border: '1px solid #ddd',\r\n            borderRadius: '4px',\r\n            fontSize: '1rem'\r\n          }}\r\n        />\r\n        \r\n        <select\r\n          value={selectedCategory}\r\n          onChange={(e) => setSelectedCategory(e.target.value)}\r\n          style={{\r\n            padding: '0.75rem',\r\n            border: '1px solid #ddd',\r\n            borderRadius: '4px',\r\n            fontSize: '1rem',\r\n            minWidth: '200px'\r\n          }}\r\n        >\r\n          <option value=\"\">All Categories ({articles.length})</option>\r\n          {categories.map(category => {\r\n            const articleCount = articles.filter(article => \r\n              article.categoryId?.toString() === category.id.toString() ||\r\n              article.category?.id?.toString() === category.id.toString()\r\n            ).length;\r\n            return (\r\n              <option key={category.id} value={category.id}>\r\n                {category.name} ({articleCount})\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n\r\n      <div style={{ marginBottom: '1rem', color: '#374151', fontSize: '1rem', fontWeight: '500' }}>\r\n        Showing {filteredArticles.length} article{filteredArticles.length !== 1 ? 's' : ''}\r\n        {selectedCategory && ` in ${categories.find(cat => cat.id.toString() === selectedCategory)?.name}`}\r\n        {searchTerm && ` matching \"${searchTerm}\"`}\r\n      </div>\r\n\r\n      {filteredArticles.length === 0 ? (\r\n        <div className=\"card\">\r\n          <p style={{ color: '#374151', fontSize: '1.1rem', fontWeight: '500', margin: 0 }}>\r\n            No articles found matching your search criteria.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div style={{ display: 'grid', gap: '1rem' }}>\r\n          {filteredArticles.map(article => (\r\n            <div \r\n              key={article.id} \r\n              className=\"card\" \r\n              style={{ \r\n                cursor: 'pointer',\r\n                transition: 'box-shadow 0.2s',\r\n                ':hover': { boxShadow: '0 4px 8px rgba(0,0,0,0.1)' }\r\n              }}\r\n              onClick={() => setSelectedArticle(article)}\r\n            >\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <h3 style={{ margin: '0 0 0.5rem 0', color: '#1e40af', fontWeight: '600' }}>\r\n                    {article.title}\r\n                  </h3>\r\n                  <p style={{ \r\n                    margin: '0 0 1rem 0', \r\n                    color: '#374151',\r\n                    display: '-webkit-box',\r\n                    WebkitLineClamp: 2,\r\n                    WebkitBoxOrient: 'vertical',\r\n                    overflow: 'hidden',\r\n                    lineHeight: '1.5'\r\n                  }}>\r\n                    {article.content}\r\n                  </p>\r\n                  <div style={{ fontSize: '0.9rem', color: '#4b5563' }}>\r\n                    <span style={{ \r\n                      backgroundColor: '#e5e7eb', \r\n                      color: '#1f2937',\r\n                      padding: '0.25rem 0.5rem', \r\n                      borderRadius: '12px',\r\n                      marginRight: '0.5rem',\r\n                      fontWeight: '500'\r\n                    }}>\r\n                      {article.category?.name || 'Uncategorized'}\r\n                    </span>\r\n                    • Published: {formatDate(article.createdAt)}\r\n                  </div>\r\n                </div>\r\n                <div style={{ marginLeft: '1rem', color: '#1e40af', fontWeight: 'bold' }}>\r\n                  →\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default KnowledgeBaseView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}